{"ast":null,"code":"var _jsxFileName = \"/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/src/Booking.js\";\nimport React from 'react';\nexport default class Booking extends React.Component {\n  constructor() {\n    super();\n\n    this.generateButtons = () => {\n      var arr = [];\n\n      for (let index = 0; index < this.state.ticketIds.length; index++) {\n        arr.push(React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"radio\",\n          value: this.state.ticketIds[index],\n          checked: this.state.size === \"small\",\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        }), this.state.airportNames[index], \" (id \", this.state.ticketIds[index], \")\")));\n      }\n\n      return arr;\n    };\n\n    this.getCurrentPicked = () => {\n      var getPicked;\n\n      for (let index = 0; index < this.state.ticketIds.length; index++) {\n        if (this.state.ticketIds[index] === this.state.ticketId) {\n          getPicked = React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }, \"currently picked: \", this.state.airportNames[index]);\n          break;\n        }\n      }\n\n      return getPicked;\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        ticketId: event.target.value\n      });\n    };\n\n    this.showTickets = e => {\n      this.setState({\n        showTickets: true\n      });\n      fetch(\"http://localhost:5009/api/v1/food/bookings?id=\" + e.target[0].value, {\n        method: \"get\",\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        return res.json();\n      }).then(json => {\n        var arrIds = [];\n        var arrAnames = [];\n\n        for (let index = 0; index < json.booking.tickets.length; index++) {\n          arrIds.push(json.booking.tickets[index].ticketId);\n          arrAnames.push(json.booking.tickets[index].firstName + \" \" + json.booking.tickets[index].lastName + \" from \" + json.booking.tickets[index].depAiportName + \" to \" + json.booking.tickets[index].arrAiportName);\n        }\n\n        this.setState({\n          ticketIds: arrIds,\n          airportNames: arrAnames\n        });\n      });\n      this.props.bookingDone(\"booking id\", e.target[0].value);\n      e.preventDefault();\n    };\n\n    this.doneWithBooking = e => {\n      this.props.bookingDone(\"ticket id\", this.state.ticketId);\n      this.props.bookingDone(\"booking done\");\n      e.preventDefault();\n    };\n\n    this.state = {\n      showTickets: false,\n      ticketId: null,\n      ticketIds: [],\n      airportNames: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.showTickets,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: \"booking id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })), this.state.showTickets ? React.createElement(\"form\", {\n      onSubmit: this.doneWithBooking,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Select a ticket:\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.generateButtons()), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Make your choice\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"currently picked: \", this.state.ticketId)) : 'please pick an id');\n  }\n\n}","map":{"version":3,"sources":["/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/src/Booking.js"],"names":["React","Booking","Component","constructor","generateButtons","arr","index","state","ticketIds","length","push","size","handleChange","airportNames","getCurrentPicked","getPicked","ticketId","event","setState","target","value","showTickets","e","fetch","method","headers","then","res","json","arrIds","arrAnames","booking","tickets","firstName","lastName","depAiportName","arrAiportName","props","bookingDone","preventDefault","doneWithBooking","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAAsC;AACjDC,EAAAA,WAAW,GAAG;AACV;;AADU,SAMdC,eANc,GAMI,MAAM;AACtB,UAAIC,GAAG,GAAG,EAAV;;AACA,WAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,MAAjD,EAAyDH,KAAK,EAA9D,EAAkE;AAChED,QAAAA,GAAG,CAACK,IAAJ,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,KAAK,EAAE,KAAKH,KAAL,CAAWC,SAAX,CAAqBF,KAArB,CAFT;AAGE,UAAA,OAAO,EAAE,KAAKC,KAAL,CAAWI,IAAX,KAAoB,OAH/B;AAIE,UAAA,QAAQ,EAAE,KAAKC,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAOG,KAAKL,KAAL,CAAWM,YAAX,CAAwBP,KAAxB,CAPH,WAOwC,KAAKC,KAAL,CAAWC,SAAX,CAAqBF,KAArB,CAPxC,MADO,CAAT;AAWD;;AACD,aAAOD,GAAP;AACD,KAtBa;;AAAA,SAuBdS,gBAvBc,GAuBK,MAAM;AACvB,UAAIC,SAAJ;;AACA,WAAK,IAAIT,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,MAAjD,EAAyDH,KAAK,EAA9D,EAAkE;AAChE,YAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqBF,KAArB,MAAgC,KAAKC,KAAL,CAAWS,QAA9C,EAAuD;AACrDD,UAAAA,SAAS,GAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAsB,KAAKR,KAAL,CAAWM,YAAX,CAAwBP,KAAxB,CAAtB,CAAb;AACA;AACD;AAEF;;AAAC,aAAOS,SAAP;AACH,KAhCa;;AAAA,SAuDdH,YAvDc,GAuDEK,KAAD,IAAW;AACtB,WAAKC,QAAL,CAAc;AACZF,QAAAA,QAAQ,EAAEC,KAAK,CAACE,MAAN,CAAaC;AADX,OAAd;AAGD,KA3DW;;AAAA,SA6DdC,WA7Dc,GA6DCC,CAAD,IAAO;AACjB,WAAKJ,QAAL,CAAc;AAACG,QAAAA,WAAW,EAAE;AAAd,OAAd;AACAE,MAAAA,KAAK,CAAC,mDAAmDD,CAAC,CAACH,MAAF,CAAS,CAAT,EAAYC,KAAhE,EAAuE;AAC1EI,QAAAA,MAAM,EAAE,KADkE;AAE1EC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB;AAFiE,OAAvE,CAAL,CAGGC,IAHH,CAGSC,GAAD,IAAO;AACb,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,OALD,EAKGF,IALH,CAKSE,IAAD,IAAQ;AACd,YAAIC,MAAM,GAAG,EAAb;AACA,YAAIC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAIxB,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGsB,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqBvB,MAAjD,EAAyDH,KAAK,EAA9D,EAAkE;AAChEuB,UAAAA,MAAM,CAACnB,IAAP,CAAYkB,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqB1B,KAArB,EAA4BU,QAAxC;AACAc,UAAAA,SAAS,CAACpB,IAAV,CAAekB,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqB1B,KAArB,EAA4B2B,SAA5B,GAAwC,GAAxC,GAA8CL,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqB1B,KAArB,EAA4B4B,QAA1E,GAAqF,QAArF,GAAiGN,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqB1B,KAArB,EAA4B6B,aAA7H,GAA6I,MAA7I,GAAsJP,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqB1B,KAArB,EAA4B8B,aAAjM;AACD;;AAED,aAAKlB,QAAL,CAAc;AAACV,UAAAA,SAAS,EAAGqB,MAAb;AAAqBhB,UAAAA,YAAY,EAAGiB;AAApC,SAAd;AACD,OAdD;AAeA,WAAKO,KAAL,CAAWC,WAAX,CAAuB,YAAvB,EAAqChB,CAAC,CAACH,MAAF,CAAS,CAAT,EAAYC,KAAjD;AACAE,MAAAA,CAAC,CAACiB,cAAF;AACH,KAhFa;;AAAA,SAkFdC,eAlFc,GAkFKlB,CAAD,IAAO;AACrB,WAAKe,KAAL,CAAWC,WAAX,CAAuB,WAAvB,EAAoC,KAAK/B,KAAL,CAAWS,QAA/C;AACA,WAAKqB,KAAL,CAAWC,WAAX,CAAuB,cAAvB;AACAhB,MAAAA,CAAC,CAACiB,cAAF;AACH,KAtFa;;AAEV,SAAKhC,KAAL,GAAa;AAAEc,MAAAA,WAAW,EAAE,KAAf;AAAsBL,MAAAA,QAAQ,EAAG,IAAjC;AAAuCR,MAAAA,SAAS,EAAG,EAAnD;AAAuDK,MAAAA,YAAY,EAAG;AAAtE,KAAb;AACH;;AA+BD4B,EAAAA,MAAM,GAAG;AACL,WAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACJ;AAAM,MAAA,QAAQ,EAAE,KAAKpB,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,WAAW,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADI,EAKP,KAAKd,KAAL,CAAWc,WAAX,GAAyB;AAAM,MAAA,QAAQ,EAAE,KAAKmB,eAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAD4B,EAG5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKpC,eAAL,EADH,CAH4B,EAO5B;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAP4B,EAQ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAsB,KAAKG,KAAL,CAAWS,QAAjC,CAR0B,CAAzB,GASG,mBAdI,CAAR;AAmBH;;AAvDgD","sourcesContent":["import React from 'react'\n\nexport default class Booking extends React.Component {\n    constructor() {\n        super();\n        this.state = { showTickets: false, ticketId : null, ticketIds : [], airportNames : []}\n    }\n\n\n    generateButtons = () => {\n      var arr = [];\n      for (let index = 0; index < this.state.ticketIds.length; index++) {\n        arr.push(<li>\n          <label>\n            <input\n              type=\"radio\"\n              value={this.state.ticketIds[index]}\n              checked={this.state.size === \"small\"}\n              onChange={this.handleChange}\n            />\n            {this.state.airportNames[index]} (id {this.state.ticketIds[index]})\n          </label>\n        </li>)\n      }\n      return arr;\n    }\n    getCurrentPicked = () => {\n      var getPicked;\n      for (let index = 0; index < this.state.ticketIds.length; index++) {\n        if(this.state.ticketIds[index] === this.state.ticketId){\n          getPicked =  <p>currently picked: {this.state.airportNames[index]}</p>\n          break;\n        }\n       \n      } return getPicked;\n    }\n\n    render() {\n        return (<div>\n            <form onSubmit={this.showTickets}>\n                <input placeholder=\"booking id\" />\n                <input type=\"submit\" />\n            </form>\n        {this.state.showTickets ? <form onSubmit={this.doneWithBooking}>\n      <p>Select a ticket:</p>\n      \n      <ul>\n        {this.generateButtons()}\n      </ul>\n\n      <button type=\"submit\">Make your choice</button>\n        <p>currently picked: {this.state.ticketId}</p>\n    </form>:'please pick an id'}\n\n            \n\n        </div>)\n    }\n    handleChange = (event) => {\n        this.setState({\n          ticketId: event.target.value\n        });\n      }\n\n    showTickets = (e) => {\n        this.setState({showTickets: true});\n        fetch(\"http://localhost:5009/api/v1/food/bookings?id=\" + e.target[0].value, {\n          method: \"get\",\n          headers: {'Content-Type': 'application/json' }\n        }).then((res)=>{\n          return res.json();\n        }).then((json)=>{\n          var arrIds = [];\n          var arrAnames = [];\n          for (let index = 0; index < json.booking.tickets.length; index++) {\n            arrIds.push(json.booking.tickets[index].ticketId);\n            arrAnames.push(json.booking.tickets[index].firstName + \" \" + json.booking.tickets[index].lastName + \" from \" +  json.booking.tickets[index].depAiportName + \" to \" + json.booking.tickets[index].arrAiportName);\n          }\n        \n          this.setState({ticketIds : arrIds, airportNames : arrAnames});\n        })\n        this.props.bookingDone(\"booking id\", e.target[0].value);\n        e.preventDefault();\n    }\n\n    doneWithBooking = (e) => {\n        this.props.bookingDone(\"ticket id\", this.state.ticketId);\n        this.props.bookingDone(\"booking done\");\n        e.preventDefault();\n    }\n}"]},"metadata":{},"sourceType":"module"}