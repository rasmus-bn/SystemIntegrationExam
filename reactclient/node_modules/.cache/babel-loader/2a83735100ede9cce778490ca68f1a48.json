{"ast":null,"code":"/**\n * @license\n * Copyright 2015 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n'use strict';\n\nvar clone = require('lodash.clone');\n\nvar grpc = require('./grpc_extension');\n\nconst IDEMPOTENT_REQUEST_FLAG = 0x10;\nconst WAIT_FOR_READY_FLAG = 0x20;\nconst CACHEABLE_REQUEST_FLAG = 0x40;\nconst WAIT_FOR_READY_EXPLICITLY_SET_FLAG = 0x80;\nconst CORKED_FLAG = 0x100;\n/**\n * Class for storing metadata. Keys are normalized to lowercase ASCII.\n * @memberof grpc\n * @constructor\n * @param {Object=} options Boolean options for the beginning of the call.\n *     These options only have any effect when passed at the beginning of\n *     a client request.\n * @param {boolean=} [options.idempotentRequest=false] Signal that the request\n *     is idempotent\n * @param {boolean=} [options.waitForReady=true] Signal that the call should\n *     not return UNAVAILABLE before it has started.\n * @param {boolean=} [options.cacheableRequest=false] Signal that the call is\n *     cacheable. GRPC is free to use GET verb.\n * @param {boolean=} [options.corked=false] Signal that the initial metadata\n *     should be corked.\n * @example\n * var metadata = new metadata_module.Metadata();\n * metadata.set('key1', 'value1');\n * metadata.add('key1', 'value2');\n * metadata.get('key1') // returns ['value1', 'value2']\n */\n\nfunction Metadata(options) {\n  this._internal_repr = {};\n  this.setOptions(options);\n}\n\nfunction normalizeKey(key) {\n  key = key.toLowerCase();\n\n  if (grpc.metadataKeyIsLegal(key)) {\n    return key;\n  } else {\n    throw new Error('Metadata key\"' + key + '\" contains illegal characters');\n  }\n}\n\nfunction validate(key, value) {\n  if (grpc.metadataKeyIsBinary(key)) {\n    if (!(value instanceof Buffer)) {\n      throw new Error('keys that end with \\'-bin\\' must have Buffer values');\n    }\n  } else {\n    if (typeof value !== 'string') {\n      throw new Error('keys that don\\'t end with \\'-bin\\' must have String values');\n    }\n\n    if (!grpc.metadataNonbinValueIsLegal(value)) {\n      throw new Error('Metadata string value \"' + value + '\" contains illegal characters');\n    }\n  }\n}\n/**\n * Sets the given value for the given key, replacing any other values associated\n * with that key. Normalizes the key.\n * @param {String} key The key to set\n * @param {String|Buffer} value The value to set. Must be a buffer if and only\n *     if the normalized key ends with '-bin'\n */\n\n\nMetadata.prototype.set = function (key, value) {\n  key = normalizeKey(key);\n  validate(key, value);\n  this._internal_repr[key] = [value];\n};\n/**\n * Adds the given value for the given key. Normalizes the key.\n * @param {String} key The key to add to.\n * @param {String|Buffer} value The value to add. Must be a buffer if and only\n *     if the normalized key ends with '-bin'\n */\n\n\nMetadata.prototype.add = function (key, value) {\n  key = normalizeKey(key);\n  validate(key, value);\n\n  if (!this._internal_repr[key]) {\n    this._internal_repr[key] = [];\n  }\n\n  this._internal_repr[key].push(value);\n};\n/**\n * Remove the given key and any associated values. Normalizes the key.\n * @param {String} key The key to remove\n */\n\n\nMetadata.prototype.remove = function (key) {\n  key = normalizeKey(key);\n\n  if (Object.prototype.hasOwnProperty.call(this._internal_repr, key)) {\n    delete this._internal_repr[key];\n  }\n};\n/**\n * Gets a list of all values associated with the key. Normalizes the key.\n * @param {String} key The key to get\n * @return {Array.<String|Buffer>} The values associated with that key\n */\n\n\nMetadata.prototype.get = function (key) {\n  key = normalizeKey(key);\n\n  if (Object.prototype.hasOwnProperty.call(this._internal_repr, key)) {\n    return this._internal_repr[key];\n  } else {\n    return [];\n  }\n};\n/**\n * Get a map of each key to a single associated value. This reflects the most\n * common way that people will want to see metadata.\n * @return {Object.<String,String|Buffer>} A key/value mapping of the metadata\n */\n\n\nMetadata.prototype.getMap = function () {\n  var result = {};\n  Object.keys(this._internal_repr).forEach(key => {\n    const values = this._internal_repr[key];\n\n    if (values.length > 0) {\n      result[key] = values[0];\n    }\n  });\n  return result;\n};\n/**\n * Clone the metadata object.\n * @return {grpc.Metadata} The new cloned object\n */\n\n\nMetadata.prototype.clone = function () {\n  var copy = new Metadata();\n  Object.keys(this._internal_repr).forEach(key => {\n    const value = this._internal_repr[key];\n    copy._internal_repr[key] = clone(value);\n  });\n  copy.flags = this.flags;\n  return copy;\n};\n/**\n * Set options on the metadata object\n * @param {Object} options Boolean options for the beginning of the call.\n *     These options only have any effect when passed at the beginning of\n *     a client request.\n * @param {boolean=} [options.idempotentRequest=false] Signal that the request\n *     is idempotent\n * @param {boolean=} [options.waitForReady=true] Signal that the call should\n *     not return UNAVAILABLE before it has started.\n * @param {boolean=} [options.cacheableRequest=false] Signal that the call is\n *     cacheable. GRPC is free to use GET verb.\n * @param {boolean=} [options.corked=false] Signal that the initial metadata\n *     should be corked.\n */\n\n\nMetadata.prototype.setOptions = function (options) {\n  let flags = 0;\n\n  if (options) {\n    if (options.idempotentRequest) {\n      flags |= IDEMPOTENT_REQUEST_FLAG;\n    }\n\n    if (options.hasOwnProperty('waitForReady')) {\n      flags |= WAIT_FOR_READY_EXPLICITLY_SET_FLAG;\n\n      if (options.waitForReady) {\n        flags |= WAIT_FOR_READY_FLAG;\n      }\n    }\n\n    if (options.cacheableRequest) {\n      flags |= CACHEABLE_REQUEST_FLAG;\n    }\n\n    if (options.corked) {\n      flags |= CORKED_FLAG;\n    }\n  }\n\n  this.flags = flags;\n};\n/**\n * Metadata representation as passed to and the native addon\n * @typedef {object} grpc~CoreMetadata\n * @param {Object.<String, Array.<String|Buffer>>} metadata The metadata\n * @param {number} flags Metadata flags\n */\n\n/**\n * Gets the metadata in the format used by interal code. Intended for internal\n * use only. API stability is not guaranteed.\n * @private\n * @return {grpc~CoreMetadata} The metadata\n */\n\n\nMetadata.prototype._getCoreRepresentation = function () {\n  return {\n    metadata: this._internal_repr,\n    flags: this.flags\n  };\n};\n/**\n * Creates a Metadata object from a metadata map in the internal format.\n * Intended for internal use only. API stability is not guaranteed.\n * @private\n * @param {grpc~CoreMetadata} metadata The metadata object from core\n * @return {Metadata} The new Metadata object\n */\n\n\nMetadata._fromCoreRepresentation = function (metadata) {\n  var newMetadata = new Metadata();\n\n  if (metadata) {\n    Object.keys(metadata.metadata).forEach(key => {\n      const value = metadata.metadata[key];\n      newMetadata._internal_repr[key] = clone(value);\n    });\n  }\n\n  newMetadata.flags = metadata.flags;\n  return newMetadata;\n};\n\nmodule.exports = Metadata;","map":{"version":3,"sources":["/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/node_modules/grpc/src/metadata.js"],"names":["clone","require","grpc","IDEMPOTENT_REQUEST_FLAG","WAIT_FOR_READY_FLAG","CACHEABLE_REQUEST_FLAG","WAIT_FOR_READY_EXPLICITLY_SET_FLAG","CORKED_FLAG","Metadata","options","_internal_repr","setOptions","normalizeKey","key","toLowerCase","metadataKeyIsLegal","Error","validate","value","metadataKeyIsBinary","Buffer","metadataNonbinValueIsLegal","prototype","set","add","push","remove","Object","hasOwnProperty","call","get","getMap","result","keys","forEach","values","length","copy","flags","idempotentRequest","waitForReady","cacheableRequest","corked","_getCoreRepresentation","metadata","_fromCoreRepresentation","newMetadata","module","exports"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2015 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n'use strict';\n\nvar clone = require('lodash.clone');\n\nvar grpc = require('./grpc_extension');\n\nconst IDEMPOTENT_REQUEST_FLAG = 0x10;\nconst WAIT_FOR_READY_FLAG = 0x20;\nconst CACHEABLE_REQUEST_FLAG = 0x40;\nconst WAIT_FOR_READY_EXPLICITLY_SET_FLAG = 0x80;\nconst CORKED_FLAG = 0x100;\n\n/**\n * Class for storing metadata. Keys are normalized to lowercase ASCII.\n * @memberof grpc\n * @constructor\n * @param {Object=} options Boolean options for the beginning of the call.\n *     These options only have any effect when passed at the beginning of\n *     a client request.\n * @param {boolean=} [options.idempotentRequest=false] Signal that the request\n *     is idempotent\n * @param {boolean=} [options.waitForReady=true] Signal that the call should\n *     not return UNAVAILABLE before it has started.\n * @param {boolean=} [options.cacheableRequest=false] Signal that the call is\n *     cacheable. GRPC is free to use GET verb.\n * @param {boolean=} [options.corked=false] Signal that the initial metadata\n *     should be corked.\n * @example\n * var metadata = new metadata_module.Metadata();\n * metadata.set('key1', 'value1');\n * metadata.add('key1', 'value2');\n * metadata.get('key1') // returns ['value1', 'value2']\n */\nfunction Metadata(options) {\n  this._internal_repr = {};\n  this.setOptions(options);\n}\n\nfunction normalizeKey(key) {\n  key = key.toLowerCase();\n  if (grpc.metadataKeyIsLegal(key)) {\n    return key;\n  } else {\n    throw new Error('Metadata key\"' + key + '\" contains illegal characters');\n  }\n}\n\nfunction validate(key, value) {\n  if (grpc.metadataKeyIsBinary(key)) {\n    if (!(value instanceof Buffer)) {\n      throw new Error('keys that end with \\'-bin\\' must have Buffer values');\n    }\n  } else {\n    if (typeof value !== 'string') {\n      throw new Error(\n          'keys that don\\'t end with \\'-bin\\' must have String values');\n    }\n    if (!grpc.metadataNonbinValueIsLegal(value)) {\n      throw new Error('Metadata string value \"' + value +\n                      '\" contains illegal characters');\n    }\n  }\n}\n\n/**\n * Sets the given value for the given key, replacing any other values associated\n * with that key. Normalizes the key.\n * @param {String} key The key to set\n * @param {String|Buffer} value The value to set. Must be a buffer if and only\n *     if the normalized key ends with '-bin'\n */\nMetadata.prototype.set = function(key, value) {\n  key = normalizeKey(key);\n  validate(key, value);\n  this._internal_repr[key] = [value];\n};\n\n/**\n * Adds the given value for the given key. Normalizes the key.\n * @param {String} key The key to add to.\n * @param {String|Buffer} value The value to add. Must be a buffer if and only\n *     if the normalized key ends with '-bin'\n */\nMetadata.prototype.add = function(key, value) {\n  key = normalizeKey(key);\n  validate(key, value);\n  if (!this._internal_repr[key]) {\n    this._internal_repr[key] = [];\n  }\n  this._internal_repr[key].push(value);\n};\n\n/**\n * Remove the given key and any associated values. Normalizes the key.\n * @param {String} key The key to remove\n */\nMetadata.prototype.remove = function(key) {\n  key = normalizeKey(key);\n  if (Object.prototype.hasOwnProperty.call(this._internal_repr, key)) {\n    delete this._internal_repr[key];\n  }\n};\n\n/**\n * Gets a list of all values associated with the key. Normalizes the key.\n * @param {String} key The key to get\n * @return {Array.<String|Buffer>} The values associated with that key\n */\nMetadata.prototype.get = function(key) {\n  key = normalizeKey(key);\n  if (Object.prototype.hasOwnProperty.call(this._internal_repr, key)) {\n    return this._internal_repr[key];\n  } else {\n    return [];\n  }\n};\n\n/**\n * Get a map of each key to a single associated value. This reflects the most\n * common way that people will want to see metadata.\n * @return {Object.<String,String|Buffer>} A key/value mapping of the metadata\n */\nMetadata.prototype.getMap = function() {\n  var result = {};\n  Object.keys(this._internal_repr).forEach(key => {\n    const values = this._internal_repr[key];\n    if(values.length > 0) {\n      result[key] = values[0];\n    }\n  });\n  return result;\n};\n\n/**\n * Clone the metadata object.\n * @return {grpc.Metadata} The new cloned object\n */\nMetadata.prototype.clone = function() {\n  var copy = new Metadata();\n  Object.keys(this._internal_repr).forEach(key => {\n    const value = this._internal_repr[key];\n    copy._internal_repr[key] = clone(value);\n  });\n  copy.flags = this.flags;\n  return copy;\n};\n\n/**\n * Set options on the metadata object\n * @param {Object} options Boolean options for the beginning of the call.\n *     These options only have any effect when passed at the beginning of\n *     a client request.\n * @param {boolean=} [options.idempotentRequest=false] Signal that the request\n *     is idempotent\n * @param {boolean=} [options.waitForReady=true] Signal that the call should\n *     not return UNAVAILABLE before it has started.\n * @param {boolean=} [options.cacheableRequest=false] Signal that the call is\n *     cacheable. GRPC is free to use GET verb.\n * @param {boolean=} [options.corked=false] Signal that the initial metadata\n *     should be corked.\n */\nMetadata.prototype.setOptions = function(options) {\n  let flags = 0;\n  if (options) {\n    if (options.idempotentRequest) {\n      flags |= IDEMPOTENT_REQUEST_FLAG;\n    }\n    if (options.hasOwnProperty('waitForReady')) {\n      flags |= WAIT_FOR_READY_EXPLICITLY_SET_FLAG;\n      if (options.waitForReady) {\n        flags |= WAIT_FOR_READY_FLAG;\n      }\n    }\n    if (options.cacheableRequest) {\n      flags |= CACHEABLE_REQUEST_FLAG;\n    }\n    if (options.corked) {\n      flags |= CORKED_FLAG;\n    }\n  }\n  this.flags = flags;\n}\n\n/**\n * Metadata representation as passed to and the native addon\n * @typedef {object} grpc~CoreMetadata\n * @param {Object.<String, Array.<String|Buffer>>} metadata The metadata\n * @param {number} flags Metadata flags\n */\n\n/**\n * Gets the metadata in the format used by interal code. Intended for internal\n * use only. API stability is not guaranteed.\n * @private\n * @return {grpc~CoreMetadata} The metadata\n */\nMetadata.prototype._getCoreRepresentation = function() {\n  return {\n    metadata: this._internal_repr,\n    flags: this.flags\n  };\n};\n\n/**\n * Creates a Metadata object from a metadata map in the internal format.\n * Intended for internal use only. API stability is not guaranteed.\n * @private\n * @param {grpc~CoreMetadata} metadata The metadata object from core\n * @return {Metadata} The new Metadata object\n */\nMetadata._fromCoreRepresentation = function(metadata) {\n  var newMetadata = new Metadata();\n  if (metadata) {\n    Object.keys(metadata.metadata).forEach(key => {\n      const value = metadata.metadata[key];\n      newMetadata._internal_repr[key] = clone(value);\n    });\n  }\n  newMetadata.flags = metadata.flags;\n  return newMetadata;\n};\n\nmodule.exports = Metadata;\n"]},"metadata":{},"sourceType":"script"}