{"ast":null,"code":"var _jsxFileName = \"/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/src/Food.js\";\nimport React from 'react';\nimport { getAllCategories } from './data';\nexport default class Food extends React.Component {\n  constructor() {\n    super();\n\n    this.foodCategoryButtons = () => {\n      var buttons = [];\n\n      for (var i = 0; i < this.state.categories.length; i++) {\n        buttons.push(React.createElement(\"button\", {\n          onClick: this.chooseCategory,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, this.state.categories[i]));\n      }\n\n      return buttons;\n    };\n\n    this.chooseCategory = e => {\n      console.log(e.target.innerText);\n      this.setState({\n        categoryPicked: e.target.innerText,\n        categoryFinished: true\n      });\n      this.getFoodsOnData(this.state.categoryPicked);\n    };\n\n    this.getFoodsOnData = category => {\n      fetch(\"http://localhost:5009/api/v1/food/category?name=\" + category, {\n        method: \"get\",\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(data => {\n        return data.json();\n      }).then(json => {\n        this.setState({\n          foodsOfCategories: json\n        });\n      });\n    };\n\n    this.presentCategorizedFoods = () => {\n      var buttons = [];\n\n      for (var i = 0; i < this.state.foodsOfCategories.length; i++) {\n        buttons.push(React.createElement(\"button\", {\n          onClick: this.chooseFood,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, this.state.foodsOfCategories[i].name));\n      }\n\n      return buttons;\n    };\n\n    this.chooseFood = e => {\n      alert(e.target.innerText);\n      console.log(e.target.innerText);\n    };\n\n    this.foodSteps = () => {\n      if (this.state.categoryFinished === false && this.state.foodChoiceFinished === false) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"booking id:\", this.props.bookingId, \", ticket id:\", this.props.ticketId, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Food\"), this.foodCategoryButtons());\n      }\n\n      if (this.state.categoryFinished === true && this.state.foodChoiceFinished === false) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"time for food pick \", this.state.categoryPicked), this.presentCategorizedFoods());\n      }\n    };\n\n    this.state = {\n      categories: [],\n      foodsOfCategories: [],\n      categoryPicked: \"\",\n      categoryFinished: false,\n      foodChoiceFinished: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5009/api/v1/food/categories\", {\n      method: \"get\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(data => {\n      return data.json();\n    }).then(json => {\n      this.setState({\n        categories: json\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.foodSteps());\n  }\n\n}","map":{"version":3,"sources":["/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/src/Food.js"],"names":["React","getAllCategories","Food","Component","constructor","foodCategoryButtons","buttons","i","state","categories","length","push","chooseCategory","e","console","log","target","innerText","setState","categoryPicked","categoryFinished","getFoodsOnData","category","fetch","method","headers","then","data","json","foodsOfCategories","presentCategorizedFoods","chooseFood","name","alert","foodSteps","foodChoiceFinished","props","bookingId","ticketId","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { getAllCategories } from './data'\n\nexport default class Food extends React.Component {\n    constructor() {\n        super();\n        this.state = { categories: [], foodsOfCategories:[], categoryPicked: \"\", categoryFinished: false, foodChoiceFinished: false }\n    }\n\n    componentDidMount() {\n        fetch(\"http://localhost:5009/api/v1/food/categories\", {\n            method: \"get\", headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then((data) => {\n            return data.json();\n        }).then((json) => {\n            this.setState({ categories: json });\n        })\n    }\n\n    foodCategoryButtons = () => {\n        var buttons = [];\n        for (var i = 0; i < this.state.categories.length; i++) {\n            buttons.push(<button onClick={this.chooseCategory}>{this.state.categories[i]}</button>);\n        }\n        return buttons;\n    }\n\n    chooseCategory = (e) => {\n        console.log(e.target.innerText);\n        this.setState({ categoryPicked: e.target.innerText, categoryFinished: true });\n        this.getFoodsOnData(this.state.categoryPicked);\n    }\n\n    getFoodsOnData = (category) => {\n        fetch(\"http://localhost:5009/api/v1/food/category?name=\"+category, {method: \"get\", headers:{\n            'Content-Type': 'application/json'    \n        }\n    }).then((data)=>{\n        return data.json();\n    }).then((json) => {\n        this.setState({foodsOfCategories: json});\n    })\n    }\n    presentCategorizedFoods = () => {\n        var buttons = [];\n        for (var i = 0; i < this.state.foodsOfCategories.length; i++) {\n            buttons.push(<button onClick={this.chooseFood}>{this.state.foodsOfCategories[i].name}</button>);\n        }\n        return buttons;\n    }\n    chooseFood = (e) => {\n        alert(e.target.innerText);\n        console.log(e.target.innerText);\n    }\n\n\n    foodSteps = () => {\n        if (this.state.categoryFinished === false && this.state.foodChoiceFinished === false) {\n            return <div>booking id:{this.props.bookingId}\n                , ticket id:{this.props.ticketId}\n                <h1>Food</h1>\n                {this.foodCategoryButtons()}</div>\n        }\n        if (this.state.categoryFinished === true && this.state.foodChoiceFinished === false) {\n        return <div><p>time for food pick {this.state.categoryPicked}</p>\n            {this.presentCategorizedFoods()}\n            </div>\n        }\n    }\n\n    render() {\n        return <div>\n            {this.foodSteps()}\n        </div>\n    }\n}"]},"metadata":{},"sourceType":"module"}