{"ast":null,"code":"var _jsxFileName = \"/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/src/Root.js\";\nimport React from 'react';\nimport Booking from './Booking';\nimport Food from './Food';\nimport Feedback from './Feedback'; //var PROTO_PATH = __dirname + '/../../protos/helloworld.proto';\n\nconst PROTO_PATH = 'FlightService.proto';\n\nconst grpc = require('grpc');\n\nconst protoLoader = require('@grpc/proto-loader');\n\nconst packageDefinition = protoLoader.loadSync(PROTO_PATH, {\n  keepCase: true,\n  longs: String,\n  enums: String,\n  defaults: true,\n  oneofs: true\n});\nconsole.log(grpc.loadPackageDefinition(packageDefinition));\nconst flightProto = grpc.loadPackageDefinition(packageDefinition).com.sebastiangds.flightservice;\n\nfunction main() {\n  const client = new flightProto.FlightService('localhost:6565', grpc.credentials.createInsecure());\n  client.getBooking({\n    bookingId: 2\n  }, function (err, response) {\n    console.log(response);\n  });\n}\n\nmain();\n\nclass Root extends React.Component {\n  constructor() {\n    super();\n\n    this.serviceStepsChecker = () => {\n      if (this.state.bookingFinished === false) {\n        return React.createElement(Booking, {\n          id: this.state.bookingId,\n          bookingDone: (val, val2) => this.changeState(val, val2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.bookingFinished === true && this.state.foodFinished === false) {\n        return React.createElement(Food, {\n          bookingId: this.state.bookingId,\n          foodDone: (val, val2) => this.changeState(val, val2),\n          ticketId: this.state.ticketId,\n          done: val => this.changeState(val),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.bookingFinished === true && this.state.foodFinished === true) {\n        return React.createElement(Feedback, {\n          choices: this.state,\n          feedbackDone: (val, val2) => this.changeState(val, val2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.changeState = (choice, id) => {\n      if (choice === \"booking done\") {\n        this.setState({\n          bookingFinished: true\n        });\n      }\n\n      if (choice === \"food done\") {\n        this.setState({\n          foodFinished: true,\n          foodId: id\n        });\n      }\n\n      if (choice === \"feedback done\") {\n        this.setState({\n          feedbackFinished: true\n        });\n      }\n\n      if (choice === \"booking id\") {\n        this.setState({\n          bookingId: id\n        });\n      }\n\n      if (choice === \"ticket id\") {\n        this.setState({\n          ticketId: id\n        });\n      }\n    };\n\n    this.state = {\n      bookingFinished: false,\n      foodFinished: false,\n      feedbackFinished: false,\n      bookingId: null,\n      ticketId: null,\n      foodId: null\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.serviceStepsChecker());\n  }\n\n}\n\nexport default Root;","map":{"version":3,"sources":["/home/hvn15/SchoolProjects/SystemIntegrationExam/reactclient/src/Root.js"],"names":["React","Booking","Food","Feedback","PROTO_PATH","grpc","require","protoLoader","packageDefinition","loadSync","keepCase","longs","String","enums","defaults","oneofs","console","log","loadPackageDefinition","flightProto","com","sebastiangds","flightservice","main","client","FlightService","credentials","createInsecure","getBooking","bookingId","err","response","Root","Component","constructor","serviceStepsChecker","state","bookingFinished","val","val2","changeState","foodFinished","ticketId","choice","id","setState","foodId","feedbackFinished","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAEA;;AACA,MAAMC,UAAU,GAAG,qBAAnB;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,oBAAD,CAA3B;;AACA,MAAME,iBAAiB,GAAGD,WAAW,CAACE,QAAZ,CACtBL,UADsB,EAEtB;AAACM,EAAAA,QAAQ,EAAE,IAAX;AACCC,EAAAA,KAAK,EAAEC,MADR;AAECC,EAAAA,KAAK,EAAED,MAFR;AAGCE,EAAAA,QAAQ,EAAE,IAHX;AAICC,EAAAA,MAAM,EAAE;AAJT,CAFsB,CAA1B;AAQAC,OAAO,CAACC,GAAR,CAAYZ,IAAI,CAACa,qBAAL,CAA2BV,iBAA3B,CAAZ;AACA,MAAMW,WAAW,GAAGd,IAAI,CAACa,qBAAL,CAA2BV,iBAA3B,EAA8CY,GAA9C,CAAkDC,YAAlD,CAA+DC,aAAnF;;AAEA,SAASC,IAAT,GAAiB;AACb,QAAMC,MAAM,GAAG,IAAIL,WAAW,CAACM,aAAhB,CAA8B,gBAA9B,EAAgDpB,IAAI,CAACqB,WAAL,CAAiBC,cAAjB,EAAhD,CAAf;AAEAH,EAAAA,MAAM,CAACI,UAAP,CAAkB;AAAEC,IAAAA,SAAS,EAAG;AAAd,GAAlB,EAAqC,UAASC,GAAT,EAAcC,QAAd,EAAwB;AACzDf,IAAAA,OAAO,CAACC,GAAR,CAAYc,QAAZ;AACH,GAFD;AAGH;;AAEDR,IAAI;;AAEJ,MAAMS,IAAN,SAAmBhC,KAAK,CAACiC,SAAzB,CAAkC;AAEhCC,EAAAA,WAAW,GAAE;AACX;;AADW,SAgBbC,mBAhBa,GAgBS,MAAM;AAC1B,UAAG,KAAKC,KAAL,CAAWC,eAAX,KAA+B,KAAlC,EAAwC;AACtC,eAAO,oBAAC,OAAD;AAAS,UAAA,EAAE,EAAE,KAAKD,KAAL,CAAWP,SAAxB;AAAmC,UAAA,WAAW,EAAE,CAACS,GAAD,EAAMC,IAAN,KAAe,KAAKC,WAAL,CAAiBF,GAAjB,EAAsBC,IAAtB,CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACD,UAAG,KAAKH,KAAL,CAAWC,eAAX,KAA+B,IAA/B,IAAuC,KAAKD,KAAL,CAAWK,YAAX,KAA4B,KAAtE,EAA4E;AAC1E,eAAO,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAE,KAAKL,KAAL,CAAWP,SAA5B;AAAuC,UAAA,QAAQ,EAAE,CAACS,GAAD,EAAMC,IAAN,KAAe,KAAKC,WAAL,CAAiBF,GAAjB,EAAsBC,IAAtB,CAAhE;AAA6F,UAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWM,QAAlH;AAA2H,UAAA,IAAI,EAAGJ,GAAD,IAAS,KAAKE,WAAL,CAAiBF,GAAjB,CAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACD,UAAG,KAAKF,KAAL,CAAWC,eAAX,KAA+B,IAA/B,IAAuC,KAAKD,KAAL,CAAWK,YAAX,KAA4B,IAAtE,EAA2E;AACzE,eAAO,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAE,KAAKL,KAAxB;AAA+B,UAAA,YAAY,EAAE,CAACE,GAAD,EAAMC,IAAN,KAAe,KAAKC,WAAL,CAAiBF,GAAjB,EAAqBC,IAArB,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF,KA1BY;;AAAA,SA2BbC,WA3Ba,GA2BC,CAACG,MAAD,EAASC,EAAT,KAAgB;AAC5B,UAAGD,MAAM,KAAK,cAAd,EAA6B;AAC3B,aAAKE,QAAL,CAAc;AAACR,UAAAA,eAAe,EAAE;AAAlB,SAAd;AACD;;AACD,UAAGM,MAAM,KAAK,WAAd,EAA0B;AACxB,aAAKE,QAAL,CAAc;AAACJ,UAAAA,YAAY,EAAE,IAAf;AAAqBK,UAAAA,MAAM,EAAGF;AAA9B,SAAd;AACD;;AACD,UAAGD,MAAM,KAAK,eAAd,EAA8B;AAC5B,aAAKE,QAAL,CAAc;AAACE,UAAAA,gBAAgB,EAAE;AAAnB,SAAd;AACD;;AACD,UAAGJ,MAAM,KAAK,YAAd,EAA2B;AACzB,aAAKE,QAAL,CAAc;AAAChB,UAAAA,SAAS,EAAGe;AAAb,SAAd;AACD;;AACD,UAAGD,MAAM,KAAK,WAAd,EAA0B;AACxB,aAAKE,QAAL,CAAc;AAACH,UAAAA,QAAQ,EAAGE;AAAZ,SAAd;AACD;AACF,KA3CY;;AAEX,SAAKR,KAAL,GAAa;AAACC,MAAAA,eAAe,EAAE,KAAlB;AAAyBI,MAAAA,YAAY,EAAE,KAAvC;AAA8CM,MAAAA,gBAAgB,EAAE,KAAhE;AAAuElB,MAAAA,SAAS,EAAG,IAAnF;AAAyFa,MAAAA,QAAQ,EAAG,IAApG;AAA0GI,MAAAA,MAAM,EAAG;AAAnH,KAAb;AACD;;AAGDE,EAAAA,MAAM,GAAE;AACN,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACJ,KAAKb,mBAAL,EADI,CAAP;AAGD;;AAZ+B;;AAkDlC,eAAeH,IAAf","sourcesContent":["import React from 'react';\nimport Booking from './Booking'\nimport Food from './Food'\nimport Feedback from './Feedback'\n\n//var PROTO_PATH = __dirname + '/../../protos/helloworld.proto';\nconst PROTO_PATH = 'FlightService.proto';\nconst grpc = require('grpc');\nconst protoLoader = require('@grpc/proto-loader');\nconst packageDefinition = protoLoader.loadSync(\n    PROTO_PATH,\n    {keepCase: true,\n     longs: String,\n     enums: String,\n     defaults: true,\n     oneofs: true\n    });\nconsole.log(grpc.loadPackageDefinition(packageDefinition));\nconst flightProto = grpc.loadPackageDefinition(packageDefinition).com.sebastiangds.flightservice;\n\nfunction main () {\n    const client = new flightProto.FlightService('localhost:6565', grpc.credentials.createInsecure());\n\n    client.getBooking({ bookingId : 2 }, function(err, response) {\n        console.log(response);\n    });\n}\n\nmain();\n\nclass Root extends React.Component{\n\n  constructor(){\n    super();\n    this.state = {bookingFinished: false, foodFinished: false, feedbackFinished: false, bookingId : null, ticketId : null, foodId : null}\n  }\n\n\n  render(){\n    return(<div>\n      {this.serviceStepsChecker()}\n    </div>)\n  }\n\n\n   \n  \n\n  serviceStepsChecker = () => {\n    if(this.state.bookingFinished === false){\n      return <Booking id={this.state.bookingId} bookingDone={(val, val2) => this.changeState(val, val2)}/>\n    }\n    if(this.state.bookingFinished === true && this.state.foodFinished === false){\n      return <Food bookingId={this.state.bookingId} foodDone={(val, val2) => this.changeState(val, val2)} ticketId={this.state.ticketId}done={(val) => this.changeState(val)}/>\n    }\n    if(this.state.bookingFinished === true && this.state.foodFinished === true){\n      return <Feedback choices={this.state} feedbackDone={(val, val2) => this.changeState(val,val2)}/>\n    }\n  }\n  changeState = (choice, id) => {\n    if(choice === \"booking done\"){\n      this.setState({bookingFinished: true})\n    }\n    if(choice === \"food done\"){\n      this.setState({foodFinished: true, foodId : id})\n    }\n    if(choice === \"feedback done\"){\n      this.setState({feedbackFinished: true})\n    }\n    if(choice === \"booking id\"){\n      this.setState({bookingId : id});\n    }\n    if(choice === \"ticket id\"){\n      this.setState({ticketId : id});\n    }\n  }\n}\n\n\n\nexport default Root;\n"]},"metadata":{},"sourceType":"module"}